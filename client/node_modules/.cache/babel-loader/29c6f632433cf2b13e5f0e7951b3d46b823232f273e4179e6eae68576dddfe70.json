{"ast":null,"code":"var _jsxFileName = \"/home/bishal/Documents/Videos/study/SEM 4/jnec_project_/client/src/components/EventComp/EventComp.js\",\n  _s = $RefreshSig$();\n/* eslint-disable jsx-a11y/anchor-is-valid */\n/* eslint-disable jsx-a11y/img-redundant-alt */\nimport React, { useEffect, useState } from \"react\";\nimport \"./eventcomp.css\";\nimport { toast } from \"react-toastify\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function EventComp() {\n  _s();\n  const [event, setevent] = useState([]);\n  const loadEvent = async () => {\n    try {\n      const response = await axios.get(\"http://localhost:3001/api/get\");\n      setevent(response.data);\n    } catch (error) {\n      console.error(error);\n      toast.error(\"Error loading events.\");\n    }\n  };\n  useEffect(() => {\n    loadEvent();\n  }, []);\n  const [showFullDescriptions, setShowFullDescriptions] = useState([]);\n  const toggleShowFullDescription = index => {\n    setShowFullDescriptions(prev => {\n      const newArr = [...prev];\n      newArr[index] = !newArr[index];\n      return newArr;\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"event-page\",\n      class: \"py-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row \",\n          children: event.map((item, index) => {\n            const maxLength = 150;\n            const shortDescription = item.event_description.substring(0, maxLength);\n            const longDescription = item.event_description;\n            const showButton = item.event_description.length > maxLength;\n            const showFullDescription = showFullDescriptions[index] || false;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col mt-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"card-img-top\",\n                  src: item.event_image,\n                  alt: \"Card image cap\",\n                  height: \"200\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 51,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body d-flex justify-content-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"card-title\",\n                    children: item.event_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 58,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"\",\n                    children: item.event_date\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 59,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"card-text\",\n                    children: [showFullDescription ? longDescription : shortDescription, showButton && /*#__PURE__*/_jsxDEV(\"a\", {\n                      className: \"link-primary\",\n                      onClick: () => toggleShowFullDescription(index),\n                      children: showFullDescription ? \"Read less\" : \"Read more\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 67,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 62,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 61,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 50,\n                columnNumber: 19\n              }, this)\n            }, item.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(EventComp, \"t9GDrHMdjOIhJv7Y0uV1X5vzbBk=\");\n_c = EventComp;\nvar _c;\n$RefreshReg$(_c, \"EventComp\");","map":{"version":3,"names":["React","useEffect","useState","toast","axios","EventComp","event","setevent","loadEvent","response","get","data","error","console","showFullDescriptions","setShowFullDescriptions","toggleShowFullDescription","index","prev","newArr","map","item","maxLength","shortDescription","event_description","substring","longDescription","showButton","length","showFullDescription","event_image","event_name","event_date","id"],"sources":["/home/bishal/Documents/Videos/study/SEM 4/jnec_project_/client/src/components/EventComp/EventComp.js"],"sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\n/* eslint-disable jsx-a11y/img-redundant-alt */\nimport React, { useEffect, useState } from \"react\";\nimport \"./eventcomp.css\";\nimport { toast } from \"react-toastify\";\nimport axios from \"axios\";\n\nexport default function EventComp() {\n  const [event, setevent] = useState([]);\n\n  const loadEvent = async () => {\n    try {\n      const response = await axios.get(\"http://localhost:3001/api/get\");\n      setevent(response.data);\n    } catch (error) {\n      console.error(error);\n      toast.error(\"Error loading events.\");\n    }\n  };\n\n  useEffect(() => {\n    loadEvent();\n  }, []);\n  const [showFullDescriptions, setShowFullDescriptions] = useState([]);\n\n  const toggleShowFullDescription = (index) => {\n    setShowFullDescriptions((prev) => {\n      const newArr = [...prev];\n      newArr[index] = !newArr[index];\n      return newArr;\n    });\n  };\n  return (\n    <>\n      <div id=\"event-page\" class=\"py-5\">\n        <div class=\"container\">\n          <div className=\"row \">\n            {event.map((item, index) => {\n              const maxLength = 150;\n              const shortDescription = item.event_description.substring(\n                0,\n                maxLength\n              );\n              const longDescription = item.event_description;\n              const showButton = item.event_description.length > maxLength;\n              const showFullDescription = showFullDescriptions[index] || false;\n\n              return (\n                <div className=\"col mt-3\" key={item.id}>\n                  <div className=\"card\">\n                    <img\n                      className=\"card-img-top\"\n                      src={item.event_image}\n                      alt=\"Card image cap\"\n                      height=\"200\"\n                    />\n                    <div className=\"card-body d-flex justify-content-between\">\n                      <h5 className=\"card-title\">{item.event_name}</h5>\n                      <span className=\"\">{item.event_date}</span>\n                    </div>\n                    <div className=\"card-body\">\n                      <p className=\"card-text\">\n                        {showFullDescription\n                          ? longDescription\n                          : shortDescription}\n                        {showButton && (\n                          <a\n                            className=\"link-primary\"\n                            onClick={() => toggleShowFullDescription(index)}\n                          >\n                            {showFullDescription ? \"Read less\" : \"Read more\"}\n                          </a>\n                        )}\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}